<div class="baseDialog">
    <div class="formTitle">{{hasInstance ? 'Actualizar' : 'Crear'}} Proveedor</div>
    <form [formGroup]="form" (ngSubmit)="save()">

        <div class="formContent" *ngIf="isLoad; then thenBlock else elseBlock "></div>

        <ng-template #thenBlock>
            <div class="stvInputContainer">
                <label>Nombre Proveedor</label>
                <div class="loader-box"></div>
            </div>

            <div class="stvInputContainer">
                <label>Nit</label>
                <div class="loader-box"></div>
            </div>

            <div class="stvInputContainer">
                <label>Dirección</label>
                <div class="loader-box"></div>
            </div>

            <div class="stvInputContainer">
                <label>Ubicación</label>
                <div class="loader-box"></div>
            </div>

            <div class="stvInputContainer">
                <label>Teléfono</label>
                <div class="loader-box"></div>
            </div>

            <div class="stvInputContainer">
                <label>Correo</label>
                <div class="loader-box"></div>
            </div>

            <div class="stvInputContainer">
                <label>Productos</label>
                <div class="loader-box"></div>
            </div>

        </ng-template>

        <ng-template #elseBlock>

            <div class="stvInputContainer">
                <label>Nombre Proveedor</label>
                <input type="text" formControlName="name" placeholder="Escribe el nombre del proveedor">
                <div class="error-text" *ngIf="form.get('name')?.hasError('required')">
                    El nombre de proveedor es obligatorio.
                </div>
            </div>

            <div class="stvInputContainer">
                <label>Número de Nit</label>
                <input type="text" formControlName="nit" placeholder="Escribe el Nit">
                <div class="error-text" *ngIf="form.get('nit')?.hasError('required')">
                    El Nit es obligatorio.
                </div>
            </div>

            <div class="stvInputContainer">
                <label>Dirección</label>
                <input type="text" formControlName="direccion" placeholder="Escribe la Dirección">
                <div class="error-text" *ngIf="form.get('direccion')?.hasError('required')">
                    La Dirección es obligatoria.
                </div>
            </div>

            <div class="stvInputContainer">
                <label>Ubicación</label>
                <input type="text" formControlName="ubicacion" placeholder="Escribe la Ubicación">
                <div class="error-text" *ngIf="form.get('ubicacion')?.hasError('required')">
                    La Ubicación es obligatoria.
                </div>
            </div>

            <div class="stvInputContainer">
                <label>Teléfono</label>
                <input type="text" formControlName="phone" placeholder="Escribe el télefono">
                <div class="error-text" *ngIf="form.get('phone')?.hasError('required')">
                    El télefono es obligatorio.
                </div>
            </div>

            <div class="stvInputContainer">
                <label>Correo</label>
                <input type="text" formControlName="email" placeholder="Escribe el correo">
                <div class="error-text" *ngIf="form.get('email')?.hasError('required')">
                    El email es obligatorio.
                </div>
                <div class="error-text" *ngIf="form.get('email')?.hasError('email')">
                    El formato de email es incorrecto.
                </div>
            </div>

            <div class="stvInputContainer">
                <label>Productos</label>
                <st-select formControlName="products" [multiple]="true" [config]="{
                    placeholder: 'Selecciona',
                    moreText: 'más',
                    noResultsFound: 'Sin resultados',
                    displayKey: 'label',
                    searchPlaceholder: 'Buscar',
                    selectAllLabel: 'Seleccionar todo'
                }" [options]="optionsList.products" position="fixed" />
                <div class="error-text" *ngIf="form.get('products')?.hasError('required')">
                    Los productos del proveedor es obligatorio.
                </div>
            </div>
    

        </ng-template>

        <div class="formActions">
            <button class="primary" type="submit" [disabled]="form.invalid">Guardar</button>
            <button class="secondary" type="button" (click)="close()">Cancelar</button>
        </div>
    </form>
</div>